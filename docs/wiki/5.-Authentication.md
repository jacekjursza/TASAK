# 5. Authentication for MCP Apps

To interact with protected MCP servers, such as the Atlassian Remote MCP Server, you first need to authenticate your TASAK client.

We have created a special `auth` application to make this process as simple as possible. It uses the standard OAuth 2.1 protocol to securely connect to your account without ever needing to store your password.

## The `auth` Command

This command handles the entire authentication flow for a specific service.

### Usage

```bash
# The general command structure
tasak auth <app_name>

# Example for Atlassian
tasak auth atlassian
```

### How It Works

When you run `tasak auth atlassian`:

1.  **Browser Launch:** TASAK will automatically open a new tab in your default web browser, pointing to the Atlassian login and authorization page.
2.  **User Consent:** You will be asked to log in to your Atlassian account (if you aren't already) and grant permission for TASAK to access your data.
3.  **Callback:** After you grant permission, Atlassian will redirect your browser to a temporary local web server that TASAK is running in the background.
4.  **Token Exchange:** TASAK captures the authorization code from this redirect and securely exchanges it for an access token and a refresh token in the background.
5.  **Secure Storage:** These tokens are then saved to a local file (`~/.tasak/auth.json`) with restricted file permissions, so only you can read it.

Once this process is complete, you are authenticated. TASAK will automatically use the saved token (and refresh it when necessary) whenever you use the corresponding `mcp` app (e.g., `tasak atlassian ...`).
